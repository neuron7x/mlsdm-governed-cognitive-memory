# ====================================================
# Secrets Template for MLSDM Production
# ====================================================
# IMPORTANT: This is a TEMPLATE file with placeholder values.
# Do NOT commit actual secrets to version control!
#
# In production, use one of the following approaches:
# 1. Kubernetes Secrets with external secret management (recommended)
#    - AWS Secrets Manager with External Secrets Operator
#    - HashiCorp Vault with CSI driver
#    - Azure Key Vault
#    - Google Secret Manager
#
# 2. Sealed Secrets (Bitnami)
#    kubeseal --cert=pub.pem -o yaml < secrets.yaml > sealed-secrets.yaml
#
# 3. kubectl create secret (for manual deployment)
#    kubectl create secret generic mlsdm-secrets \
#      --from-literal=api-key='your-secure-api-key' \
#      --from-literal=openai-api-key='sk-...' \
#      -n mlsdm-production
#
# Usage:
#   # Replace placeholders and apply
#   kubectl apply -f secrets.yaml -n mlsdm-production
# ====================================================

apiVersion: v1
kind: Secret
metadata:
  name: mlsdm-secrets
  namespace: mlsdm-production
  labels:
    app: mlsdm
    component: secrets
type: Opaque
stringData:
  # API authentication key
  # Generate a secure random key: openssl rand -base64 32
  api-key: "CHANGE-ME-IN-PRODUCTION-USE-STRONG-RANDOM-KEY"
  
  # OpenAI API key (if using OpenAI backend)
  # Get from: https://platform.openai.com/api-keys
  openai-api-key: ""
  
  # Anthropic API key (if using Anthropic backend)
  # Get from: https://console.anthropic.com/
  anthropic-api-key: ""

---
# TLS Certificate Secret (for Ingress)
# This is a placeholder - use cert-manager in production
# apiVersion: v1
# kind: Secret
# metadata:
#   name: mlsdm-tls
#   namespace: mlsdm-production
# type: kubernetes.io/tls
# data:
#   tls.crt: <base64-encoded-certificate>
#   tls.key: <base64-encoded-private-key>

---
# External Secrets Operator Example (AWS Secrets Manager)
# Uncomment and configure if using External Secrets Operator
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: mlsdm-external-secrets
#   namespace: mlsdm-production
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: aws-secrets-manager
#     kind: ClusterSecretStore
#   target:
#     name: mlsdm-secrets
#     creationPolicy: Owner
#   data:
#     - secretKey: api-key
#       remoteRef:
#         key: mlsdm/production/api-key
#     - secretKey: openai-api-key
#       remoteRef:
#         key: mlsdm/production/openai-api-key
