<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600" role="img" aria-labelledby="t d">
  <title id="t">MLSDM architecture overview</title>
  <desc id="d">Left to right pipeline showing API/CLI, ingest, safety gate, memory manager, retrieval, providers, and observability.</desc>
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#0b1220"/>
      <stop offset="1" stop-color="#0a1b2a"/>
    </linearGradient>
    <linearGradient id="card" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0" stop-color="#111a2d"/>
      <stop offset="1" stop-color="#0f1626"/>
    </linearGradient>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#9fb2d1"/>
    </marker>
    <style>
      .h { font: 700 38px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; fill: #e8f0ff; }
      .s { font: 400 16px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; fill: #b9c7e2; }
      .b { fill: url(#card); stroke: #2b3c5c; stroke-width: 2; rx: 18; }
      .t { font: 700 16px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; fill: #e8f0ff; }
      .p { font: 400 14px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; fill: #b9c7e2; }
      .a { stroke: #9fb2d1; stroke-width: 3; fill: none; marker-end: url(#arrow); }
      .k { fill: #0b1220; stroke: #2b3c5c; stroke-width: 2; rx: 14; }
      .kt { font: 700 13px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; fill: #d7e3ff; letter-spacing: 0.3px; }
    </style>
  </defs>

  <rect x="0" y="0" width="1200" height="600" fill="url(#bg)"/>

  <text x="70" y="90" class="h">MLSDM</text>
  <text x="70" y="122" class="s">Governed Cognitive Memory for LLM Systems (library + service)</text>

  <!-- Main pipeline blocks -->
  <rect class="b" x="70"  y="165" width="160" height="110"/>
  <text class="t" x="90" y="200">Client</text>
  <text class="p" x="90" y="225">API / CLI</text>
  <text class="p" x="90" y="248">Integrations</text>

  <rect class="b" x="260" y="165" width="170" height="110"/>
  <text class="t" x="280" y="200">Ingest</text>
  <text class="p" x="280" y="225">Normalize</text>
  <text class="p" x="280" y="248">Validate</text>

  <rect class="b" x="460" y="165" width="180" height="110"/>
  <text class="t" x="480" y="200">Safety Gate</text>
  <text class="p" x="480" y="225">Threat / Policy</text>
  <text class="p" x="480" y="248">Moral filter</text>

  <rect class="b" x="670" y="165" width="200" height="110"/>
  <text class="t" x="690" y="200">Memory Manager</text>
  <text class="p" x="690" y="225">Working + LTM</text>
  <text class="p" x="690" y="248">State + persistence</text>

  <rect class="b" x="900" y="165" width="230" height="110"/>
  <text class="t" x="920" y="200">Retrieval + Compose</text>
  <text class="p" x="920" y="225">Context builder</text>
  <text class="p" x="920" y="248">Top-k / scoring</text>

  <!-- Providers -->
  <rect class="k" x="670" y="300" width="200" height="65"/>
  <text class="kt" x="690" y="337">Embeddings provider</text>

  <rect class="k" x="900" y="300" width="230" height="65"/>
  <text class="kt" x="920" y="337">LLM provider</text>

  <!-- Observability -->
  <rect class="b" x="70" y="410" width="1060" height="110"/>
  <text class="t" x="90" y="448">Observability + Reliability</text>
  <text class="p" x="90" y="474">Metrics / tracing / logs, health endpoints, circuit breaker, retries, timeouts</text>

  <!-- Arrows main flow -->
  <path class="a" d="M 230 220 L 260 220"/>
  <path class="a" d="M 430 220 L 460 220"/>
  <path class="a" d="M 640 220 L 670 220"/>
  <path class="a" d="M 870 220 L 900 220"/>

  <!-- Provider arrows -->
  <path class="a" d="M 770 275 L 770 300"/>
  <path class="a" d="M 1015 275 L 1015 300"/>

  <!-- Retrieval -> LLM -->
  <path class="a" d="M 1015 275 L 1015 275"/>
  <path class="a" d="M 1015 275 L 1015 300"/>

  <!-- Observability connections (subtle) -->
  <path class="a" d="M 150 275 L 150 410" opacity="0.45"/>
  <path class="a" d="M 350 275 L 350 410" opacity="0.45"/>
  <path class="a" d="M 550 275 L 550 410" opacity="0.45"/>
  <path class="a" d="M 770 365 L 770 410" opacity="0.45"/>
  <path class="a" d="M 1015 365 L 1015 410" opacity="0.45"/>
</svg>
