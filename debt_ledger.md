DL-001
- Priority: P3
- Gate: test
- Symptom: RuntimeWarning about overflow encountered in dot during TestMemoryContentSafety::test_extreme_magnitude_vectors.
- Evidence: artifacts/baseline/test.log (numpy/linalg/_linalg.py:2792 RuntimeWarning: overflow encountered in dot, triggered by tests/safety/test_memory_leakage.py::TestMemoryContentSafety::test_extreme_magnitude_vectors).
- Likely root cause: Test inputs use extremely large vectors causing numpy.linalg dot product to overflow.
- Fix applied: Implemented safe_norm() function in src/mlsdm/utils/math_constants.py that uses scaled norm computation to prevent overflow. Updated phase_entangled_lattice_memory.py and multi_level_memory.py to use safe_norm() instead of np.linalg.norm().
- Proof command: source .venv/bin/activate && make test
- Risk: None - safe_norm() produces identical results for normal vectors and handles extreme magnitudes safely.
- Date: 2025-12-15
- Fixed: 2025-12-17
- Owner: @copilot
- Status: resolved
- Next action: None - issue is resolved.
